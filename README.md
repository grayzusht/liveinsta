<div dir="rtl">

# استریم از دسکتاپ به لایو اینستاگرام
اسکریپت PHP برای استریم مستقیم به لایو اینستاگرام از طریق هر برنامه ای که از RTMP پشتیبانی می کند! 
این اسکریپت برداشتی از کار JRoy و دیگران بوده است. به دلیل حذف شدن تمامی سورس ها به درخواست اینستاگرام ما این کدها را میرور کرده ایم. لطفا [twitter](https://twitter.com/_mgp25) سازنده اصلی را دنبال کنید.

# نکته
در حال حاضر اجرای این اسکریپت فقط در ویندوز ۱۰ و استریم از طریق OBS تست شده است.

# راه اندازی
برای نصب و اجرای این اسکریپت مراحل زیر را طی نمایید...

1. نصب PHP
2. [نصب composer](https://getcomposer.org/download/)
3. دانلود کدها
4. اجرای ```composer require grayzusht/liveinsta-api react/child-process``` در پوشه کدهای دریافتی
5. وارد کردن نام کاربری و کلمه عبور اینستاگرام در فایل `config.php` 
6. اجرای اسکریپت `goLive.php` از طریق فرمان (`php -f goLive.php`)
7. کپی Stream-URL و Stream-Key به نرم افزار استریم. [تنظیم OBS](https://greyzusht.com/var/%d8%a7%d8%b3%d8%aa%d8%b1%db%8c%d9%85-%d8%b5%d9%81%d8%ad%d9%87-%d9%86%d9%85%d8%a7%db%8c%d8%b4-%d8%a8%d9%87-%d9%84%d8%a7%db%8c%d9%88-%d8%a7%db%8c%d9%86%d8%b3%d8%aa%d8%a7%da%af%d8%b1%d8%a7%d9%85-%d8%a8/)

# کانفیگ OBS
1. به بخش "Stream" در تنظیمات OBS بروید 
2. "Stream Type" را در حالت "Custom Streaming Server" قرار دهید
3. در کادر "URL" stream url دریافتی از مرحله قبل را وارد کنید
4. در کادر "Stream key" کلید دریافتی در مرحله اجرای اسکریپت را وارد کنید
5. حتما "Use Authentication" در حالت **unchecked** باشد. سپس "OK" را فشار دهید!
6. روی Start Streaming در OBS کلیک کنید
7. برای توقف استریم, کلمه "stop" در ترمینالی که اسکریپت را اجرا کرده اید وارد کنید و سپس  "Stop Streaming" در OBS را بزنید
* نکته: برای نمایش صحیح محتوا در اینستاگرام, در تنظیمات OBS سایز کادر را 720x1280 قرار دهید. برای اینکار به  Settings->Video رفته و رزولوشن را روی  "720x1280" بگذارید.

# پرسش‌های متداول
#### خطای "Failed to connect" 
کلید استریم دریافتی یکبار مصرف است و برای هر لایو باید یکبار مجددا کلید دریافت نمایید. ضمنا آدرس استریم را بررسی کنید. در صورت بروز مجدد مشکل از rtmps:// به جای rtmp:// و از پورت 443 به جای پورت 80 استفاده کنید.
#### من استریم را متوقف کردم اما لایو همچنان در جریان است
برای توقف لایو نیاز است حتما دستور  "stop" در ترمینالی که اسکریپت اجرا شده است وارد شود. بستن پنجره cmd باعث توقف لایو شما نخواهد شد. در صورتی که *اشتباها* پنجره ترمینال بسته اید مجددا آن را اجرا کرده و فرمان توقف را صادر نمایید.

# حمایت مالی
در صورتی که این اسکریپت برایتان مفید واقع شد می توانید برای حمایت از توسعه دهندگان اصلی از راه‌های زیر اقدام کنید:

Patreon: https://www.patreon.com/JRoy

PayPal.me: https://www.paypal.me/JoshuaRoy1

Bitcoin: `32J2AqJBDY1VLq6wfZcLrTYS8fCcHHVDKD`

</div>
